<h1 mat-dialog-title><i class="fa fa-plus-circle"></i>Add Job</h1>
    <mat-divider></mat-divider>

<div mat-dialog-content>
    <form [formGroup]='addJobForm'>
        <div class='row top-margin'>
            <mat-form-field>
                <input matInput type="text" formControlName="jobName" placeholder="Job Name">
            </mat-form-field>

            <mat-form-field>
                <input matInput type="color" value="#2196f3" formControlName="jobColor" placeholder="Job Color">
            </mat-form-field>
        </div>
        <div class='row'>
            <mat-form-field>
                <mat-select formControlName="client" placeholder="Client">
                    <mat-option>A</mat-option>
                    <mat-option>B</mat-option>
                </mat-select>
            </mat-form-field>
            
            <mat-form-field>
                <mat-select formControlName="location" placeholder="Location">
                    <mat-option>A</mat-option>
                    <mat-option>B</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        
        <div class='row '>
            <div class='col displayCenter max-height'>
            <div formArrayName="instructor" *ngFor="let instructor of addJobForm.get('instructor').controls; let i = index;">
                <div [formGroupName]="i">
                    <mat-form-field >
                        <mat-select formControlName="singleInstructor" placeholder="Choose Instructor">
                            <mat-option>A</mat-option>
                            <mat-option>B</mat-option>
                        </mat-select>
                    </mat-form-field>
                    <button class='buttonTransparent' (click)='removeInstructor()'><i class="fa fa-times-circle close-color"></i></button>
            </div>
            </div>
            </div>
            <div class='col displayCenter'>
            <mat-form-field>
                <mat-select formControlName="course" placeholder="Choose Course">
                    <mat-option>A</mat-option>
                    <mat-option>B</mat-option>
                </mat-select>
            </mat-form-field>
            </div>
        </div>

        <div class='row'>
                <button mat-flat-button color="primary" (click)='addInstructor()' class="pull-right"><i class="fa fa-user-plus"></i>Add Instructor</button>

                <mat-form-field>
                        <input matInput [matDatepicker]="picker" formControlName="date" placeholder="Starting date"  (dateChange)='searchDays($event)'>
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
        </div>

            <div class='row'>
                <div class='col-sm-12 col-md-4'>
                    <div class='header'>
                    <p>Choose Frequency</p>
                    </div>
                    <div class='col-sm-12 col-md-10 col-lg-8 col-xl-8 col-12'>
                        
                        <label *ngFor='let day of frequencyDays; let i = index'>
                            <input type="checkbox" formControlName="frequency" (change)="onCheckChange($event,i)" [checked]='day.selected'>{{day.day}}
                        </label>
                    <!-- <label formArrayName="frequency"  *ngFor="let day of addJobForm.controls.frequency.controls; let i = index"> -->
                        <!-- <input type="checkbox" [formControlName]="i" [checked]='frequencyDays[i].selected' (change)="onCheckChange($event,i)"> -->
                        <!-- {{frequencyDays[i].day}} -->
                    <!-- </label> -->
                    
                    <button mat-flat-button color="primary" (click)='clearAll()' class="pull-right"><i class="fa fa fa-repeat"></i> Reset</button>
                    </div>
            </div>
                <div class='col-7'>
                    <div class='jobtitle'>
                        <i class="fa fa-calendar faiconColor"></i> <span class='datesColor'> Dates for the job</span>
                    </div>
                    <div class='row greyBackground'>
                        <div class='col-3'>Sr.No.</div>
                        <div class='col-9'>Date</div>
                    </div>
                    <div class='maxHeight'>
                        <div class='row maxHeight' *ngFor='let oneDate of finalCourseDates | slice:0:duration; let j = index;'>
                            <div class='col-3 center'>
                                {{j + 1}}
                            </div>
                            <div class='col-9'>
                                <mat-form-field >
                                    <input matInput [matDatepicker]="picker" formControlName="singleJobDate"
                                        placeholder='{{oneDate.getDate()}}/{{oneDate.getMonth()+1}}/{{oneDate.getFullYear()}}'
                                        (dateChange)='datesForJobChange($event,j)'
                                        value='{{oneDate.getDate()}}/{{oneDate.getMonth()+1}}/{{oneDate.getFullYear()}}'>
                                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                    <mat-datepicker #picker></mat-datepicker>          
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </form>

</div>
<!-- <div mat-dialog-actions>
    <div class='submitButton'>
        <button mat-flat-button color="primary" class="pull-right" (click)="addJobModal()">
            <i class="fas fa-plus fa-fw"></i>
            Add Job
        </button>
    </div>
</div> -->

