<div *ngIf="loading">
    <h1 class="text-center text-info mt-5">
        Loading... <i class="fas fa-refresh fa-spin"></i>
    </h1>
</div>

<!-- <h1 class="learner_title">Hello {{learnerName}}!</h1>

<h3 *ngIf="learner && learner.phone">{{learner.phone}}</h3> -->

<div class="card profile_card">

    <!-- <div class="profile_picture_area"> -->
    <div *ngIf="profilePath" class="profile_image">
        <img src="{{profilePath.path}}">
    </div>

    <div *ngIf="!profilePath" class="profile_image">
        <img src="../../../assets/default-user.jpg">
    </div>
    <!-- </div> -->
    <div class="card-block">
        <div class="row instructor_profile_card">
            <div class="col-sm-3 text-center justify-content-center">
                <h4 *ngIf="learnerName">
                    <i class="fas fa-user-tie fa-fw text-primary mr-1"></i>{{learnerName}}</h4>
            </div>
            <div class="col-sm-6 text-center justify-content-center">
                <h4 *ngIf="email">
                    <i class="fas fa-envelope text-info mr-1"></i> {{email}}</h4>
                <h4 *ngIf="!email">
                    <i class="fas fa-envelope text-info mr-1"></i>No email</h4>
            </div>
            <div class="col-sm-3 text-center justify-content-center">
                <h4 *ngIf="mobile">
                    <i class="fas fa-mobile-alt text-warning mr-1"></i> {{mobile}}</h4>
                <h4 *ngIf="!mobile">
                    <i class="fas fa-mobile-alt text-warning mr-1"></i>No mobile</h4>
            </div>
        </div>
    </div>
</div>


<div class="row" *ngIf="job">
    <div class="col-12">
        <!-- <div class="row m-0">
            <div>
                <h3 class="page-title pl-0">
                    Job: {{job.title}}
                </h3>
            </div>
        </div> -->
        <div class="row">
            <div class="col-12">
                <div class="card job_card">
                    <div class="card-block">
                        <div class="row mt-4 mb-2">
                            <div class="col-xl-3 col-lg-3 col-md-6 col-sm-6 mb-4">
                                <div class="learner_detail_box">
                                    <mat-list class="" role="list">
                                        <mat-list-item role="listitem" class="p-0">

                                            <i class="fas text-danger fa-fw fa-user-tie mr-1 text-left"></i>
                                            <div class="learner_title">
                                                Instructor
                                                <p *ngFor="let instructor of job.instructors"> {{instructor.name}}</p>
                                            </div>

                                        </mat-list-item>
                                    </mat-list>
                                </div>
                            </div>
                            <div class="col-xl-3 col-lg-3 col-md-6 col-sm-6 mb-4">
                                <div class="learner_detail_box">
                                    <mat-list>
                                        <mat-list-item><i class="fas text-primary fa-fw fa-building text-left"></i>
                                            <div class="learner_title">
                                                College
                                                <p> {{job.client.name}}</p>
                                            </div>
                                        </mat-list-item>
                                    </mat-list>
                                </div>
                            </div>
                            <div class="col-xl-3 col-lg-3 col-md-6 col-sm-6 mb-4">
                                <div class="learner_detail_box">
                                    <mat-list>
                                        <mat-list-item><i
                                                class="fas text-warning fa-fw fa-map-marker-alt text-left"></i>
                                            <div class="learner_title">
                                                Location
                                                <p> {{job.location.title}}</p>
                                            </div>
                                        </mat-list-item>
                                    </mat-list>
                                </div>
                            </div>
                            <div class="col-xl-3 col-lg-3 col-md-6 col-sm-6 mb-4">
                                <mat-divider [vertical]="true"></mat-divider>
                                <div class="learner_detail_box">
                                    <mat-list>
                                        <mat-list-item><i class="fas text-success fa-fw fa-book text-left"></i>
                                            <div class="learner_title pl-2">
                                                Course
                                                <p> {{job.course.title}}</p>
                                            </div>
                                        </mat-list-item>
                                    </mat-list>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<mat-expansion-panel>
    <mat-expansion-panel-header>
        <mat-panel-title>
            Reading Materials
        </mat-panel-title>
    </mat-expansion-panel-header>
    <mat-card class="first_card">
        <!-- <mat-card-header> -->
        <h3 class="mb-4 learner_card_title">Reading Materials</h3>

        <mat-form-field class="example-full-width col-lg-6 col-md-6">
            <input matInput placeholder="Search" [(ngModel)]="userFilter.title">
            <mat-icon matSuffix>search</mat-icon>
        </mat-form-field>


        <!-- </mat-card-header> -->


        <mat-card-content>
            <div class="row" *ngIf='material.length > 0'>
                <div class="col-xl-2 col-md-4 col-sm-4 materials_box"
                    *ngFor='let material of material | filterBy: userFilter;let i = index;'>
                    <mat-card class="p-0 inner-card h-100" (click)="showMaterialFiles(material)">
                        <mat-card-content class="material_card">
                            <span class="materia_icon_span {{getRandomColorClass(i)}}"><i
                                    class="fas fa-book-reader icon round"></i></span>
                            <h5 class="materials_title">{{material.title}}</h5>
                        </mat-card-content>
                    </mat-card>
                </div>
            </div>
            <div class="row" *ngIf='loadingMaterials == false && material.length == 0'>
                <div class="col-12 materials_box">
                    <mat-card class="mb-3">
                        <mat-card-header>
                            <h5 class="text-info">No Reading Material Found!</h5>
                        </mat-card-header>
                    </mat-card>
                </div>
            </div>
        </mat-card-content>
    </mat-card>

</mat-expansion-panel>

<mat-expansion-panel>
    <mat-expansion-panel-header>
        <mat-panel-title>
            Assignments
        </mat-panel-title>
    </mat-expansion-panel-header>
    <mat-card class="second_card">
        <!-- <mat-card-header> -->
        <h3 class="mb-4 learner_card_title">Assignments</h3>

        <mat-form-field class="example-full-width col-lg-6 col-md-6">
            <input matInput [(ngModel)]="searchtext" placeholder="Search">
            <mat-icon matSuffix>search</mat-icon>

        </mat-form-field>

        <!-- </mat-card-header> -->
        <mat-card-content>
            <div class="row" *ngIf='assignments != undefined'>
                <div class="col-xl-2 col-md-4 col-sm-4 materials_box"
                    *ngFor='let assignment of assignments | search : searchtext;let i = index;'>
                    <mat-card class="p-0 inner-card h-100" (click)="showAllotmentTile(assignment)">
                        <mat-card-content class="material_card">
                            <span class="materia_icon_span {{getRandomColorClass(i)}}"><i
                                    class="fas fa-clipboard-list icon"></i></span>
                            <h5 class="materials_title">{{assignment.assignment.title}}</h5>
                        </mat-card-content>
                    </mat-card>
                </div>
            </div>
            <div class="row" *ngIf='assignments == undefined'>
                <div class="col-12 materials_box">
                    <mat-card class="mb-3">
                        <mat-card-header>
                            <h5 class="text-info">No Assignment Found!</h5>
                        </mat-card-header>
                    </mat-card>
                </div>
            </div>
        </mat-card-content>
    </mat-card>
</mat-expansion-panel>